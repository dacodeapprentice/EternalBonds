<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Forever Together - Build Your Family</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Georgia', serif;
            color: #2c3e50;
            line-height: 1.6;
            background: #f5f5f5;
        }

        /* Navigation */
        nav {
            background: #fff;
            padding: 1.5rem 5%;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
            position: sticky;
            top: 0;
            z-index: 100;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .logo {
            font-size: 1.8rem;
            font-weight: bold;
            color: #c17a6f;
            cursor: pointer;
        }

        .nav-links {
            display: flex;
            gap: 2rem;
            align-items: center;
        }

        .nav-links a {
            text-decoration: none;
            color: #2c3e50;
            font-weight: 500;
            transition: color 0.3s;
            cursor: pointer;
        }

        .nav-links a:hover {
            color: #c17a6f;
        }

        .nav-links a.active {
            color: #c17a6f;
            font-weight: bold;
        }

        .btn-primary {
            background: #c17a6f;
            color: white;
            padding: 0.7rem 1.5rem;
            border-radius: 25px;
            text-decoration: none;
            transition: background 0.3s;
            border: none;
            cursor: pointer;
            font-size: 1rem;
        }

        .btn-primary:hover {
            background: #a66960;
        }

        /* Page Container */
        .page-container {
            display: none;
            min-height: calc(100vh - 200px);
        }

        .page-container.active {
            display: block;
        }

        /* Hero Section */
        .hero {
            background: linear-gradient(135deg, #f5e6e0 0%, #d4b5a8 100%);
            padding: 6rem 5%;
            text-align: center;
        }

        .hero h1 {
            font-size: 3rem;
            margin-bottom: 1rem;
            color: #2c3e50;
        }

        .hero p {
            font-size: 1.3rem;
            margin-bottom: 2rem;
            color: #555;
            max-width: 700px;
            margin-left: auto;
            margin-right: auto;
        }

        /* Dashboard */
        .dashboard {
            max-width: 1400px;
            margin: 2rem auto;
            padding: 0 5%;
        }

        .dashboard-header {
            background: linear-gradient(135deg, #f5e6e0 0%, #d4b5a8 100%);
            padding: 3rem;
            border-radius: 15px;
            margin-bottom: 2rem;
        }

        .dashboard-header h1 {
            font-size: 2.5rem;
            color: #2c3e50;
            margin-bottom: 0.5rem;
        }

        .card {
            background: white;
            padding: 2rem;
            border-radius: 15px;
            box-shadow: 0 4px 15px rgba(0,0,0,0.1);
            margin-bottom: 2rem;
        }

        .card h2 {
            color: #c17a6f;
            margin-bottom: 1.5rem;
            font-size: 1.8rem;
        }

        /* Profile Page */
        .profile-page {
            max-width: 900px;
            margin: 2rem auto;
            padding: 0 5%;
        }

        .profile-header {
            background: linear-gradient(135deg, #f5e6e0 0%, #d4b5a8 100%);
            padding: 3rem;
            border-radius: 15px;
            margin-bottom: 2rem;
            text-align: center;
        }

        .profile-header h1 {
            font-size: 2.5rem;
            color: #2c3e50;
            margin-bottom: 0.5rem;
        }

        .profile-section {
            background: white;
            padding: 2rem;
            border-radius: 15px;
            box-shadow: 0 4px 15px rgba(0,0,0,0.1);
            margin-bottom: 2rem;
        }

        .profile-section h2 {
            color: #c17a6f;
            margin-bottom: 1.5rem;
            font-size: 1.8rem;
            border-bottom: 2px solid #f5e6e0;
            padding-bottom: 0.5rem;
        }

        .form-group {
            margin-bottom: 1.5rem;
        }

        .form-group label {
            display: block;
            margin-bottom: 0.5rem;
            color: #2c3e50;
            font-weight: 500;
        }

        .form-group input, .form-group textarea, .form-group select {
            width: 100%;
            padding: 0.8rem;
            border: 2px solid #e0e0e0;
            border-radius: 8px;
            font-size: 1rem;
            font-family: 'Georgia', serif;
        }

        .form-group textarea {
            min-height: 100px;
            resize: vertical;
        }

        .form-group input:focus, .form-group textarea:focus, .form-group select:focus {
            outline: none;
            border-color: #c17a6f;
        }

        .form-row {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 1rem;
        }

        .char-count {
            text-align: right;
            font-size: 0.9rem;
            color: #999;
            margin-top: 0.3rem;
        }

        .interests-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(150px, 1fr));
            gap: 1rem;
        }

        .interest-item {
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .interest-item input[type="checkbox"] {
            width: 20px;
            height: 20px;
            cursor: pointer;
        }

        /* Modal */
        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0,0,0,0.7);
            z-index: 1000;
            align-items: center;
            justify-content: center;
        }

        .modal.active {
            display: flex;
        }

        .modal-content {
            background: white;
            padding: 3rem;
            border-radius: 15px;
            max-width: 450px;
            width: 90%;
            position: relative;
            max-height: 90vh;
            overflow-y: auto;
        }

        .close-modal {
            position: absolute;
            top: 1rem;
            right: 1.5rem;
            font-size: 2rem;
            cursor: pointer;
            color: #999;
        }

        .modal h2 {
            margin-bottom: 1.5rem;
            color: #2c3e50;
        }

        .modal-footer {
            margin-top: 1rem;
            text-align: center;
            color: #777;
        }

        .modal-footer a {
            color: #c17a6f;
            text-decoration: none;
            font-weight: bold;
            cursor: pointer;
        }

        .modal-footer a:hover {
            text-decoration: underline;
        }

        .tag {
            background: #f5e6e0;
            padding: 0.3rem 0.8rem;
            border-radius: 15px;
            font-size: 0.9rem;
            color: #c17a6f;
            display: inline-block;
            margin-right: 0.5rem;
            margin-bottom: 0.5rem;
        }

        .info-display {
            padding: 1rem;
            background: #f9f9f9;
            border-radius: 8px;
            margin-bottom: 1rem;
        }

        .info-label {
            font-weight: bold;
            color: #c17a6f;
            margin-bottom: 0.3rem;
        }

        .info-value {
            color: #555;
        }

        @media (max-width: 768px) {
            .form-row {
                grid-template-columns: 1fr;
            }

            .hero h1 {
                font-size: 2rem;
            }
        }
    </style>
</head>
<body>
    <!-- Navigation -->
    <nav>
        <div class="logo" onclick="goHome()">Forever Together</div>
        <div class="nav-links" id="navLinks">
            <!-- Will be populated by JavaScript -->
        </div>
    </nav>

    <!-- HOME PAGE (Not logged in) -->
    <div class="page-container active" id="homePage">
        <section class="hero">
            <h1>Build the Family You've Always Dreamed Of</h1>
            <p>Connect with like-minded individuals who share your values and vision for a meaningful, lasting partnership leading to marriage.</p>
            <button class="btn-primary" onclick="showLogin()">Start Your Journey</button>
        </section>
    </div>

    <!-- DASHBOARD (Logged in) -->
    <div class="page-container" id="dashboardPage">
        <div class="dashboard">
            <div class="dashboard-header">
                <h1 id="welcomeMessage">Welcome back!</h1>
                <p>Complete your profile to start finding matches</p>
            </div>
            <div class="card">
                <h2>Get Started</h2>
                <p>Fill out your profile to begin your journey to finding your life partner.</p>
                <button class="btn-primary" onclick="showPage('editProfile')" style="margin-top: 1rem;">Complete Your Profile</button>
            </div>
        </div>
    </div>

    <!-- VIEW PROFILE PAGE -->
    <div class="page-container" id="viewProfilePage">
        <div class="profile-page">
            <div class="profile-header">
                <h1>My Profile</h1>
                <p>This is how others see you on Forever Together</p>
            </div>
            <div id="profileDisplay">
                <!-- Will be populated by JavaScript -->
            </div>
            <button class="btn-primary" onclick="showPage('editProfile')" style="width: 100%; padding: 1rem; font-size: 1.1rem;">Edit Profile</button>
        </div>
    </div>

    <!-- EDIT PROFILE PAGE -->
    <div class="page-container" id="editProfilePage">
        <div class="profile-page">
            <div class="profile-header">
                <h1>Edit Your Profile</h1>
                <p>Share who you are and what you're looking for</p>
            </div>

            <form id="profileForm">
                <!-- Basic Information -->
                <div class="profile-section">
                    <h2>Basic Information</h2>
                    <div class="form-row">
                        <div class="form-group">
                            <label>First Name *</label>
                            <input type="text" id="firstName" required>
                        </div>
                        <div class="form-group">
                            <label>Age *</label>
                            <input type="number" id="age" required min="18" max="100">
                        </div>
                    </div>
                    <div class="form-row">
                        <div class="form-group">
                            <label>Gender *</label>
                            <select id="gender" required>
                                <option value="">Select...</option>
                                <option value="male">Male</option>
                                <option value="female">Female</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label>Occupation *</label>
                            <input type="text" id="occupation" required>
                        </div>
                    </div>
                    <div class="form-row">
                        <div class="form-group">
                            <label>City *</label>
                            <input type="text" id="city" required>
                        </div>
                        <div class="form-group">
                            <label>State/Region *</label>
                            <input type="text" id="state" required>
                        </div>
                    </div>
                </div>

                <!-- About You -->
                <div class="profile-section">
                    <h2>About You</h2>
                    <div class="form-group">
                        <label>Bio *</label>
                        <textarea id="bio" maxlength="500" required oninput="updateCharCount('bio', 'bioCount')"></textarea>
                        <div class="char-count"><span id="bioCount">0</span>/500</div>
                    </div>
                </div>

                <!-- Values & Beliefs -->
                <div class="profile-section">
                    <h2>Values & Beliefs</h2>
                    <div class="form-group">
                        <label>Faith/Religion *</label>
                        <select id="faith" required>
                            <option value="">Select...</option>
                            <option value="christian">Christian</option>
                            <option value="catholic">Catholic</option>
                            <option value="jewish">Jewish</option>
                            <option value="muslim">Muslim</option>
                            <option value="hindu">Hindu</option>
                            <option value="buddhist">Buddhist</option>
                            <option value="spiritual">Spiritual</option>
                            <option value="agnostic">Agnostic</option>
                            <option value="atheist">Atheist</option>
                            <option value="other">Other</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label>Importance of Faith *</label>
                        <select id="faithImportance" required>
                            <option value="">Select...</option>
                            <option value="very">Very important</option>
                            <option value="somewhat">Somewhat important</option>
                            <option value="not_very">Not very important</option>
                            <option value="not_at_all">Not important</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label>Core Values</label>
                        <textarea id="coreValues" maxlength="300" oninput="updateCharCount('coreValues', 'valuesCount')"></textarea>
                        <div class="char-count"><span id="valuesCount">0</span>/300</div>
                    </div>
                </div>

                <!-- Family Goals -->
                <div class="profile-section">
                    <h2>Family Goals</h2>
                    <div class="form-group">
                        <label>Do you want children? *</label>
                        <select id="wantChildren" required>
                            <option value="">Select...</option>
                            <option value="definitely">Definitely want children</option>
                            <option value="probably">Probably want children</option>
                            <option value="undecided">Undecided</option>
                            <option value="probably_not">Probably don't want</option>
                            <option value="definitely_not">Definitely don't want</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label>Ideal number of children</label>
                        <input type="number" id="idealChildren" min="0" max="20">
                    </div>
                    <div class="form-group">
                        <label>Vision for family life</label>
                        <textarea id="familyVision" maxlength="400" oninput="updateCharCount('familyVision', 'familyCount')"></textarea>
                        <div class="char-count"><span id="familyCount">0</span>/400</div>
                    </div>
                </div>

                <!-- Interests -->
                <div class="profile-section">
                    <h2>Interests & Hobbies</h2>
                    <div class="interests-grid">
                        <div class="interest-item">
                            <input type="checkbox" id="reading" value="Reading">
                            <label for="reading">Reading</label>
                        </div>
                        <div class="interest-item">
                            <input type="checkbox" id="cooking" value="Cooking">
                            <label for="cooking">Cooking</label>
                        </div>
                        <div class="interest-item">
                            <input type="checkbox" id="fitness" value="Fitness">
                            <label for="fitness">Fitness/Sports</label>
                        </div>
                        <div class="interest-item">
                            <input type="checkbox" id="music" value="Music">
                            <label for="music">Music</label>
                        </div>
                        <div class="interest-item">
                            <input type="checkbox" id="outdoors" value="Outdoors">
                            <label for="outdoors">Outdoors</label>
                        </div>
                        <div class="interest-item">
                            <input type="checkbox" id="travel" value="Travel">
                            <label for="travel">Travel</label>
                        </div>
                        <div class="interest-item">
                            <input type="checkbox" id="arts" value="Arts">
                            <label for="arts">Arts & Crafts</label>
                        </div>
                        <div class="interest-item">
                            <input type="checkbox" id="volunteering" value="Volunteering">
                            <label for="volunteering">Volunteering</label>
                        </div>
                    </div>
                </div>

                <!-- What You're Looking For -->
                <div class="profile-section">
                    <h2>What You're Looking For</h2>
                    <div class="form-row">
                        <div class="form-group">
                            <label>Preferred age range *</label>
                            <input type="text" id="ageRange" required placeholder="e.g., 25-35">
                        </div>
                        <div class="form-group">
                            <label>Maximum distance (miles)</label>
                            <input type="number" id="maxDistance" min="0">
                        </div>
                    </div>
                    <div class="form-group">
                        <label>Important qualities in a partner *</label>
                        <textarea id="partnerQualities" maxlength="400" required oninput="updateCharCount('partnerQualities', 'qualitiesCount')"></textarea>
                        <div class="char-count"><span id="qualitiesCount">0</span>/400</div>
                    </div>
                </div>

                <button type="submit" class="btn-primary" style="width: 100%; padding: 1rem; font-size: 1.1rem;">Save Profile</button>
            </form>
        </div>
    </div>

    <!-- Login Modal -->
    <div class="modal" id="loginModal">
        <div class="modal-content">
            <span class="close-modal" onclick="closeModal('loginModal')">&times;</span>
            <h2>Welcome Back</h2>
            <form id="loginForm">
                <div class="form-group">
                    <label>Email</label>
                    <input type="email" id="loginEmail" required>
                </div>
                <div class="form-group">
                    <label>Password</label>
                    <input type="password" id="loginPassword" required>
                </div>
                <button type="submit" class="btn-primary" style="width: 100%;">Sign In</button>
            </form>
            <div class="modal-footer">
                Don't have an account yet? <a onclick="showRegister()">You can make one here.</a>
            </div>
        </div>
    </div>

    <!-- Register Modal -->
    <div class="modal" id="registerModal">
        <div class="modal-content">
            <span class="close-modal" onclick="closeModal('registerModal')">&times;</span>
            <h2>Start Your Journey</h2>
            <form id="registerForm">
                <div class="form-group">
                    <label>Email</label>
                    <input type="email" id="registerEmail" required>
                </div>
                <div class="form-group">
                    <label>Password</label>
                    <input type="password" id="registerPassword" required minlength="6">
                </div>
                <div class="form-group">
                    <label>Confirm Password</label>
                    <input type="password" id="confirmPassword" required minlength="6">
                </div>
                <button type="submit" class="btn-primary" style="width: 100%;">Create Account</button>
            </form>
            <div class="modal-footer">
                Already have an account? <a onclick="showLogin()">Sign in here.</a>
            </div>
        </div>
    </div>

    <script>
        // Initialize LocalStorage structure
        function initializeStorage() {
            if (!localStorage.getItem('users')) {
                localStorage.setItem('users', JSON.stringify({}));
            }
        }

        // Check if user is logged in
        function checkAuth() {
            const currentUser = localStorage.getItem('currentUser');
            updateNavigation(currentUser);
            return currentUser;
        }

        // Update navigation based on auth status
        function updateNavigation(userEmail) {
            const navLinks = document.getElementById('navLinks');
            
            if (userEmail) {
                navLinks.innerHTML = `
                    <a onclick="showPage('dashboard')" class="active">Dashboard</a>
                    <a onclick="showPage('viewProfile')">My Profile</a>
                    <a href="#" class="btn-primary" onclick="logout()">Sign Out</a>
                `;
                
                // Show dashboard, hide home
                document.getElementById('homePage').classList.remove('active');
                document.getElementById('dashboardPage').classList.add('active');
                
                // Update welcome message
                const users = JSON.parse(localStorage.getItem('users'));
                const user = users[userEmail];
                if (user && user.profile && user.profile.firstName) {
                    document.getElementById('welcomeMessage').textContent = `Welcome back, ${user.profile.firstName}! ðŸ‘‹`;
                }
            } else {
                navLinks.innerHTML = `
                    <a href="#" class="btn-primary" onclick="showLogin()">Sign In</a>
                `;
                
                // Show home, hide dashboard
                document.getElementById('dashboardPage').classList.remove('active');
                document.getElementById('homePage').classList.add('active');
            }
        }

        // Show page
        function showPage(page) {
            document.querySelectorAll('.page-container').forEach(p => p.classList.remove('active'));
            
            if (page === 'dashboard') {
                document.getElementById('dashboardPage').classList.add('active');
            } else if (page === 'viewProfile') {
                loadProfileView();
                document.getElementById('viewProfilePage').classList.add('active');
            } else if (page === 'editProfile') {
                loadProfileEdit();
                document.getElementById('editProfilePage').classList.add('active');
            }
        }

        // Go home
        function goHome() {
            const currentUser = checkAuth();
            if (currentUser) {
                showPage('dashboard');
            } else {
                document.querySelectorAll('.page-container').forEach(p => p.classList.remove('active'));
                document.getElementById('homePage').classList.add('active');
            }
        }

        // Modal functions
        function showLogin() {
            closeModal('registerModal');
            document.getElementById('loginModal').classList.add('active');
        }

        function showRegister() {
            closeModal('loginModal');
            document.getElementById('registerModal').classList.add('active');
        }

        function closeModal(modalId) {
            document.getElementById(modalId).classList.remove('active');
        }

        // Register
        document.getElementById('registerForm').addEventListener('submit', function(e) {
            e.preventDefault();
            
            const email = document.getElementById('registerEmail').value;
            const password = document.getElementById('registerPassword').value;
            const confirm = document.getElementById('confirmPassword').value;
            
            if (password !== confirm) {
                alert('Passwords do not match!');
                return;
            }
            
            const users = JSON.parse(localStorage.getItem('users'));
            
            if (users[email]) {
                alert('Email already registered!');
                return;
            }
            
            users[email] = {
                password: password,
                profile: {}
            };
            
            localStorage.setItem('users', JSON.stringify(users));
            localStorage.setItem('currentUser', email);
            
            closeModal('registerModal');
            checkAuth();
            showPage('editProfile');
        });

        // Login
        document.getElementById('loginForm').addEventListener('submit', function(e) {
            e.preventDefault();
            
            const email = document.getElementById('loginEmail').value;
            const password = document.getElementById('loginPassword').value;
            
            const users = JSON.parse(localStorage.getItem('users'));
            
            if (!users[email]) {
                alert('Email not found!');
                return;
            }
            
            if (users[email].password !== password) {
                alert('Incorrect password!');
                return;
            }
            
            localStorage.setItem('currentUser', email);
            closeModal('loginModal');
            checkAuth();
            showPage('dashboard');
        });

        // Logout
        function logout() {
            localStorage.removeItem('currentUser');
            checkAuth();
            goHome();
        }

        // Load profile for editing
        function loadProfileEdit() {
            const currentUser = localStorage.getItem('currentUser');
            if (!currentUser) return;
            
            const users = JSON.parse(localStorage.getItem('users'));
            const profile = users[currentUser].profile || {};
            
            // Populate form
            document.getElementById('firstName').value = profile.firstName || '';
            document.getElementById('age').value = profile.age || '';
            document.getElementById('gender').value = profile.gender || '';
            document.getElementById('occupation').value = profile.occupation || '';
            document.getElementById('city').value = profile.city || '';
            document.getElementById('state').value = profile.state || '';
            document.getElementById('bio').value = profile.bio || '';
            document.getElementById('faith').value = profile.faith || '';
            document.getElementById('faithImportance').value = profile.faithImportance || '';
            document.getElementById('coreValues').value = profile.coreValues || '';
            document.getElementById('wantChildren').value = profile.wantChildren || '';
            document.getElementById('idealChildren').value = profile.idealChildren || '';
            document.getElementById('familyVision').value = profile.familyVision || '';
            document.getElementById('ageRange').value = profile.ageRange || '';
            document.getElementById('maxDistance').value = profile.maxDistance || '';
            document.getElementById('partnerQualities').value = profile.partnerQualities || '';
            
            // Update char counts
            updateCharCount('bio', 'bioCount');
            updateCharCount('coreValues', 'valuesCount');
            updateCharCount('familyVision', 'familyCount');
            updateCharCount('partnerQualities', 'qualitiesCount');
            
            // Load interests
            if (profile.interests) {
                profile.interests.forEach(interest => {
                    const checkbox = document.querySelector(`input[value="${interest}"]`);
                    if (checkbox) checkbox.checked = true;
                });
            }
        }

        // Save profile
        document.getElementById('profileForm').addEventListener('submit', function(e) {
            e.preventDefault();
            
            const currentUser = localStorage.getItem('currentUser');
            if (!currentUser) return;
            
            // Get all interests
            const interests = [];
            document.querySelectorAll('.interest-item input:checked').forEach(cb => {
                interests.push(cb.value);
            });
            
            const profile = {
                firstName: document.getElementById('firstName').value,
                age: document.getElementById('age').value,
                gender: document.getElementById('gender').value,
                occupation: document.getElementById('occupation').value,
                city: document.getElementById('city').value,
                state: document.getElementById('state').value,
                bio: document.getElementById('bio').value,
                faith: document.getElementById('faith').value,
                faithImportance: document.getElementById('faithImportance').value,
                coreValues: document.getElementById('coreValues').value,
                wantChildren: document.getElementById('wantChildren').value,
                idealChildren: document.getElementById('idealChildren').value,
                familyVision: document.getElementById('familyVision').value,
                interests: interests,
                ageRange: document.getElementById('ageRange').value,
                maxDistance: document.getElementById('maxDistance').value,
                partnerQualities: document.getElementById('partnerQualities').value
            };
            
            const users = JSON.parse(localStorage.getItem('users'));
            users[currentUser].profile = profile;
            localStorage.setItem('users', JSON.stringify(users));
            
            alert('Profile saved successfully!');
            showPage('viewProfile');
        });

        // Load profile view
        function loadProfileView() {
            const currentUser = localStorage.getItem('currentUser');
            if (!currentUser) return;
            
            const users = JSON.parse(localStorage.getItem('users'));
            const profile = users[currentUser].profile || {};
            
            let html = '';
            
            if (!profile.firstName) {
                html = '<div class="card"><h2>No Profile Yet</h2><p>Click "Edit Profile" to get started!</p></div>';
            } else {
                html = `
                    <div class="profile-section">
                        <h2>About Me</h2>
                        <div class="info-display">
                            <div class="info-label">Name</div>
                            <div class="info-value">${profile.firstName}, ${profile.age}</div>
                        </div>
                        <div class="info-display">
                            <div class="info-label">Location</div>
                            <div class="info-value">${profile.city}, ${profile.state}</div>
                        </div>
                        <div class="info-display">
                            <div class="info-label">Occupation</div>
                            <div class="info-value">${profile.occupation}</div>
                        </div>
                        <div class="info-display">
                            <div class="info-label">Bio</div>
                            <div class="info-value">${profile.bio}</div>
                        </div>
                    </div>

                    <div class="profile-section">
                        <h2>Values & Beliefs</h2>
                        <div class="info-display">
                            <div class="info-label">Faith</div>
                            <div class="info-value">${profile.faith}</div>
                        </div>
                        <div class="info-display">
                            <div class="info-label">Importance of Faith</div>
                            <div class="info-value">${profile.faithImportance}</div>
                        </div>
                        ${profile.coreValues ? `
                        <div class="info-display">
                            <div class="info-label">Core Values</div>
                            <div class="info-value">${profile.coreValues}</div>
                        </div>
                        ` : ''}
                    </div>

                    <div class="profile-section">
                        <h2>Family Goals</h2>
                        <div class="info-display">
                            <div class="info-label">Want Children</div>
                            <div class="info-value">${profile.wantChildren}</div>
                        </div>
                        ${profile.idealChildren ? `
                        <div class="info-display">
                            <div class="info-label">Ideal Number of Children</div>
                            <div class="info-value">${profile.idealChildren}</div>
                        </div>
                        ` : ''}
                        ${profile.familyVision ? `
                        <div class="info-display">
                            <div class="info-label">Vision for Family Life</div>
                            <div class="info-value">${profile.familyVision}</div>
                        </div>
                        ` : ''}
                    </div>

                    ${profile.interests && profile.interests.length > 0 ? `
                    <div class="profile-section">
                        <h2>Interests & Hobbies</h2>
                        <div>
                            ${profile.interests.map(interest => `<span class="tag">${interest}</span>`).join('')}
                        </div>
                    </div>
                    ` : ''}

                    <div class="profile-section">
                        <h2>What I'm Looking For</h2>
                        <div class="info-display">
                            <div class="info-label">Preferred Age Range</div>
                            <div class="info-value">${profile.ageRange}</div>
                        </div>
                        ${profile.maxDistance ? `
                        <div class="info-display">
                            <div class="info-label">Maximum Distance</div>
                            <div class="info-value">${profile.maxDistance} miles</div>
                        </div>
                        ` : ''}
                        <div class="info-display">
                            <div class="info-label">Important Qualities in a Partner</div>
                            <div class="info-value">${profile.partnerQualities}</div>
                        </div>
                    </div>
                `;
            }
            
            document.getElementById('profileDisplay').innerHTML = html;
        }

        // Character count update
        function updateCharCount(textareaId, countId) {
            const textarea = document.getElementById(textareaId);
            const count = document.getElementById(countId);
            if (textarea && count) {
                count.textContent = textarea.value.length;
            }
        }

        // Close modals when clicking outside
        window.onclick = function(event) {
            if (event.target.classList.contains('modal')) {
                event.target.classList.remove('active');
            }
        }

        // Initialize on page load
        initializeStorage();
        checkAuth();
    </script>
</body>
</html>
