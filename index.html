<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Eternal Bonds - Marriage-Focused Matching Platform</title>

<style type="text/css">@font-face {font-family:Playfair Display;font-style:normal;font-weight:600;src:url(/cf-fonts/v/playfair-display/5.0.18/latin/wght/normal.woff2);unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD;font-display:swap;}@font-face {font-family:Playfair Display;font-style:normal;font-weight:700;src:url(/cf-fonts/v/playfair-display/5.0.18/latin/wght/normal.woff2);unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD;font-display:swap;}@font-face {font-family:Inter;font-style:normal;font-weight:400;src:url(/cf-fonts/v/inter/5.0.16/latin/wght/normal.woff2);unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD;font-display:swap;}@font-face {font-family:Inter;font-style:normal;font-weight:500;src:url(/cf-fonts/v/inter/5.0.16/latin/wght/normal.woff2);unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD;font-display:swap;}@font-face {font-family:Inter;font-style:normal;font-weight:600;src:url(/cf-fonts/v/inter/5.0.16/latin/wght/normal.woff2);unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD;font-display:swap;}</style>

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">

<style>
:root{
  --bg:#f6f8f6;
  --white:#ffffff;
  --text:#1f2937;
  --muted:#6b7280;
  --accent:#4CAF50;
  --accent-dark:#3d8b40;
  --soft:#e5ebe5;
  --emerald:#10b981;
  --amber:#f59e0b;
  --amber-light:#fffbeb;
  --rose:#f43f5e;
  --blue:#3b82f6;
  --purple:#a855f7;
}

*{margin:0;padding:0;box-sizing:border-box}

body{
  font-family:Inter,sans-serif;
  background:var(--bg);
  color:var(--text);
  line-height:1.6;
}

h1,h2,h3{font-family:"Playfair Display",serif}

.container{max-width:1100px;margin:auto;padding:0 1rem}

.hidden{display:none!important}

/* NAV */
nav{
  background:var(--white);
  border-bottom:1px solid var(--soft);
  position:sticky;
  top:0;
  z-index:100;
  box-shadow:0 2px 4px rgba(0,0,0,0.05);
}

.nav{
  height:64px;
  display:flex;
  align-items:center;
  justify-content:space-between;
}

.logo{
  font-size:1.4rem;
  font-weight:700;
  cursor:pointer;
  display:flex;
  align-items:center;
  gap:0.5rem;
}

.logo i{color:var(--rose)}

.nav-links{
  display:flex;
  align-items:center;
  gap:0.5rem;
}

.nav button{
  background:none;
  border:none;
  padding:0.5rem 1rem;
  font-size:0.9rem;
  cursor:pointer;
  color:var(--text);
  border-radius:0.5rem;
  transition:all 0.3s;
  font-weight:500;
}

.nav button:hover{background:var(--soft)}

.nav button.primary{
  background:linear-gradient(to right,var(--accent),var(--emerald));
  color:white;
  padding:0.5rem 1.5rem;
  border-radius:999px;
}

.nav button.primary:hover{
  box-shadow:0 4px 12px rgba(76,175,80,0.3);
  transform:scale(1.05);
}

.nav button:disabled{
  opacity:0.5;
  cursor:not-allowed;
}

.coin-badge{
  background:linear-gradient(to right,var(--amber-light),#fef3c7);
  border:1px solid #fde68a;
  padding:0.4rem 0.8rem;
  border-radius:999px;
  display:flex;
  align-items:center;
  gap:0.4rem;
  font-weight:600;
  color:#92400e;
}

.coin-badge i{color:var(--amber)}

.mobile-toggle{display:none;background:none;border:none;font-size:1.5rem;cursor:pointer}

.mobile-menu{
  display:none;
  flex-direction:column;
  padding:1rem 0;
  gap:0.5rem;
}

.mobile-menu.active{display:flex}

/* SECTIONS */
section{padding:4rem 0;min-height:60vh}

.hero{text-align:center}

.hero h1{
  font-size:3rem;
  margin-bottom:1rem;
  line-height:1.2;
}

.hero .highlight{color:var(--accent)}

.hero p{
  max-width:600px;
  margin:0 auto 2rem;
  color:var(--muted);
  font-size:1.1rem;
}

.hero .ring-icon{
  width:80px;
  height:80px;
  margin:1.5rem auto;
  color:#fda4af;
  opacity:0.6;
}

.btn{
  padding:0.9rem 2rem;
  border:none;
  border-radius:999px;
  font-size:1rem;
  cursor:pointer;
  font-weight:600;
  transition:all 0.3s;
}

.btn-primary{
  background:linear-gradient(to right,var(--accent),var(--emerald));
  color:white;
}

.btn-primary:hover{
  box-shadow:0 8px 20px rgba(76,175,80,0.3);
  transform:scale(1.05);
}

.btn-secondary{
  background:white;
  color:var(--accent-dark);
  border:2px solid var(--soft);
}

.btn-secondary:hover{background:var(--soft)}

.btn-group{
  display:flex;
  gap:1rem;
  justify-content:center;
  margin-top:2rem;
  flex-wrap:wrap;
}

/* GRID */
.grid{display:grid;gap:1.5rem;margin-top:2rem}

.grid-3{grid-template-columns:repeat(auto-fit,minmax(280px,1fr))}
.grid-4{grid-template-columns:repeat(auto-fit,minmax(240px,1fr))}

/* CARDS */
.card{
  background:white;
  border-radius:1rem;
  padding:1.5rem;
  box-shadow:0 4px 12px rgba(0,0,0,0.06);
  transition:all 0.3s;
}

.card:hover{
  box-shadow:0 8px 24px rgba(0,0,0,0.1);
  transform:translateY(-2px);
}

.card h3{margin-bottom:0.5rem;font-size:1.2rem}
.card p{color:var(--muted);font-size:0.95rem}

.card i{font-size:2rem;margin-bottom:1rem;display:block}

.feature-card{text-align:center}

.stat-card{
  border:1px solid;
  padding:1.5rem;
}

.stat-card i{font-size:1.5rem}
.stat-card .value{font-size:1.8rem;font-weight:700;margin:0.5rem 0}
.stat-card .label{font-size:0.85rem;color:var(--muted)}

.profile-card{
  position:relative;
}

.profile-card.blur{filter:blur(4px)}

.profile-overlay{
  position:absolute;
  inset:0;
  background:rgba(255,255,255,0.92);
  display:flex;
  align-items:center;
  justify-content:center;
  border-radius:1rem;
  cursor:pointer;
  text-align:center;
}

.profile-avatar{
  width:60px;
  height:60px;
  background:linear-gradient(to bottom right,#d1dbd1,#d1fae5);
  border-radius:50%;
  display:flex;
  align-items:center;
  justify-content:center;
  margin-bottom:1rem;
}

.verified-badge{
  background:#dbeafe;
  color:#2563eb;
  padding:0.25rem 0.6rem;
  border-radius:999px;
  font-size:0.75rem;
  font-weight:600;
  display:inline-flex;
  align-items:center;
  gap:0.3rem;
}

/* FORMS */
.form-group{margin-bottom:1.5rem}

.form-label{
  display:block;
  font-weight:600;
  margin-bottom:0.5rem;
  color:var(--text);
  font-size:0.9rem;
}

.form-input{
  width:100%;
  padding:0.75rem 1rem;
  border:1px solid #d1d5db;
  border-radius:0.5rem;
  font-size:1rem;
  transition:all 0.3s;
  font-family:Inter,sans-serif;
}

.form-input:focus{
  outline:none;
  border-color:var(--accent);
  box-shadow:0 0 0 3px rgba(76,175,80,0.1);
}

textarea.form-input{resize:vertical;min-height:100px}

/* MODALS */
.modal{
  display:none;
  position:fixed;
  inset:0;
  background:rgba(0,0,0,0.5);
  z-index:200;
  align-items:center;
  justify-content:center;
  padding:1rem;
}

.modal.active{display:flex}

.modal-content{
  background:white;
  padding:2rem;
  border-radius:1rem;
  max-width:420px;
  width:100%;
  position:relative;
  box-shadow:0 20px 50px rgba(0,0,0,0.3);
}

.modal-close{
  position:absolute;
  top:1rem;
  right:1rem;
  background:none;
  border:none;
  font-size:1.5rem;
  cursor:pointer;
  color:var(--muted);
}

.modal h2{margin-bottom:1.5rem;text-align:center}

/* NOTIFICATIONS */
.notification{
  position:fixed;
  top:1rem;
  right:1rem;
  padding:1rem 1.5rem;
  border-radius:0.5rem;
  color:white;
  box-shadow:0 4px 12px rgba(0,0,0,0.2);
  z-index:300;
  display:none;
  animation:slideIn 0.3s;
  max-width:400px;
}

.notification.active{display:block}
.notification.success{background:#10b981}
.notification.error{background:#ef4444}

@keyframes slideIn{
  from{transform:translateX(100%)}
  to{transform:translateX(0)}
}

/* UTILITY */
.text-center{text-align:center}
.mb-4{margin-bottom:1rem}
.mb-8{margin-bottom:2rem}
.mt-4{margin-top:1rem}
.w-full{width:100%}
.flex{display:flex}
.items-center{align-items:center}
.justify-between{justify-content:space-between}
.gap-1{gap:1rem}

/* PAGE HEADER */
.page-header{
  margin-bottom:2rem;
}

.page-header h1{font-size:2.5rem;margin-bottom:0.5rem}
.page-header p{color:var(--muted)}

/* SPECIAL SECTIONS */
.verify-card{
  background:linear-gradient(to right,var(--blue),#6366f1);
  color:white;
  text-align:center;
  padding:3rem 2rem;
  border-radius:1rem;
}

.verify-card h3{color:white;margin-bottom:1rem}

.benefits-list{
  list-style:none;
  padding:0;
  text-align:left;
  margin:1.5rem 0;
}

.benefits-list li{
  display:flex;
  align-items:center;
  gap:0.75rem;
  margin-bottom:0.75rem;
  padding:0.5rem;
}

.benefits-list i{font-size:1.2rem}

.story-card{
  border-left:4px solid var(--rose);
  padding-left:1.5rem;
}

footer{
  background:#1f2937;
  color:white;
  text-align:center;
  padding:2rem;
  margin-top:4rem;
}

footer a{color:#a7f3d0;text-decoration:none}
footer a:hover{text-decoration:underline}

@media(max-width:768px){
  .hero h1{font-size:2rem}
  .hero p{font-size:1rem}
  .nav-links{display:none}
  .mobile-toggle{display:block}
  .grid-3,.grid-4{grid-template-columns:1fr}
  .btn-group{flex-direction:column}
}
</style>
</head>

<body>

<!-- NAV -->
<nav>
  <div class="container nav">
    <div class="logo" onclick="showPage('landing')">
      <i class="fas fa-heart"></i>
      Eternal Bonds
    </div>

    <div class="nav-links" id="navLinks">
      <!-- Populated by JS -->
    </div>

    <button class="mobile-toggle" onclick="toggleMobile()">
      <i class="fas fa-bars"></i>
    </button>
  </div>

  <div class="mobile-menu" id="mobileMenu">
    <!-- Populated by JS -->
  </div>
</nav>

<!-- NOTIFICATION -->
<div class="notification" id="notification"></div>

<!-- LANDING -->
<section id="landing">
  <div class="container hero">
    <div class="ring-icon">
      <i class="fas fa-ring"></i>
    </div>
    <h1>Find Your <span class="highlight">Eternal Bond</span></h1>
    <p>Where serious relationships bloom through effort, community, and shared family values. Earn Bond Coins for meaningful engagementâ€”no swiping, just commitment.</p>
    
    <div class="btn-group">
      <button onclick="showModal('signup')" class="btn btn-primary">
        <i class="fas fa-heart"></i> Join Now
      </button>
      <button onclick="showPage('success')" class="btn btn-secondary">
        <i class="fas fa-star"></i> See Success Stories
      </button>
    </div>

    <!-- FEATURES -->
    <div class="grid grid-3 mt-8">
      <div class="card feature-card">
        <i class="fas fa-coins" style="color:var(--amber)"></i>
        <h3>Earn Bond Coins</h3>
        <p>Build your profile, engage in forums, play Cupidâ€”earn coins for genuine effort and unlock premium features.</p>
      </div>
      <div class="card feature-card">
        <i class="fas fa-users" style="color:var(--purple)"></i>
        <h3>Cupid Mode</h3>
        <p>Help others find love by suggesting matches. Earn rewards when your suggestions lead to meetings or marriages!</p>
      </div>
      <div class="card feature-card">
        <i class="fas fa-shield-alt" style="color:var(--blue)"></i>
        <h3>Verified Community</h3>
        <p>Safe, authentic connections with verified members. Get verified to earn double coins and unlock premium features.</p>
      </div>
      <div class="card feature-card">
        <i class="fas fa-home" style="color:var(--accent)"></i>
        <h3>Family-Focused</h3>
        <p>Connect with those who share your values and vision for building a loving family. No casual swipingâ€”serious commitments only.</p>
      </div>
    </div>

    <!-- SAMPLE PROFILES -->
    <div style="margin-top:4rem">
      <h2 class="text-center mb-4">Meet Our Community</h2>
      <div class="grid grid-3" id="profilesGrid">
        <!-- Populated by JS -->
      </div>
    </div>

    <!-- HOW IT WORKS -->
    <div class="card" style="margin-top:4rem;padding:3rem">
      <h2 class="text-center mb-8">How It Works</h2>
      <div class="grid grid-4">
        <div class="text-center">
          <div style="width:64px;height:64px;background:linear-gradient(to bottom right,var(--accent),var(--emerald));color:white;border-radius:50%;display:flex;align-items:center;justify-content:center;font-size:1.5rem;font-weight:700;margin:0 auto 1rem;box-shadow:0 4px 12px rgba(76,175,80,0.3)">1</div>
          <h3>Sign Up</h3>
          <p style="color:var(--muted);font-size:0.9rem">Create your profile and join our community</p>
        </div>
        <div class="text-center">
          <div style="width:64px;height:64px;background:linear-gradient(to bottom right,var(--accent),var(--emerald));color:white;border-radius:50%;display:flex;align-items:center;justify-content:center;font-size:1.5rem;font-weight:700;margin:0 auto 1rem;box-shadow:0 4px 12px rgba(76,175,80,0.3)">2</div>
          <h3>Earn Coins</h3>
          <p style="color:var(--muted);font-size:0.9rem">Build profile, send messages, help others match</p>
        </div>
        <div class="text-center">
          <div style="width:64px;height:64px;background:linear-gradient(to bottom right,var(--accent),var(--emerald));color:white;border-radius:50%;display:flex;align-items:center;justify-content:center;font-size:1.5rem;font-weight:700;margin:0 auto 1rem;box-shadow:0 4px 12px rgba(76,175,80,0.3)">3</div>
          <h3>Get Verified</h3>
          <p style="color:var(--muted);font-size:0.9rem">Unlock full features and 2x coin earnings</p>
        </div>
        <div class="text-center">
          <div style="width:64px;height:64px;background:linear-gradient(to bottom right,var(--accent),var(--emerald));color:white;border-radius:50%;display:flex;align-items:center;justify-content:center;font-size:1.5rem;font-weight:700;margin:0 auto 1rem;box-shadow:0 4px 12px rgba(76,175,80,0.3)">4</div>
          <h3>Find Love</h3>
          <p style="color:var(--muted);font-size:0.9rem">Connect with your perfect lifelong partner</p>
        </div>
      </div>
    </div>
  </div>
</section>

<!-- DASHBOARD -->
<section id="dashboard" class="hidden">
  <div class="container">
    <div class="page-header">
      <h1>Welcome back, <span id="userName"></span>!</h1>
      <p>Your journey to finding eternal love continues here. <span id="dailyRefill"></span></p>
    </div>

    <!-- STATS -->
    <div class="grid grid-4 mb-8">
      <div class="stat-card" style="background:linear-gradient(to bottom right,var(--amber-light),#fef3c7);border-color:#fde68a">
        <i class="fas fa-sparkles" style="color:var(--amber)"></i>
        <div class="value" id="coinCount">0</div>
        <div class="label">Bond Coins</div>
      </div>
      <div class="stat-card" id="tierCard">
        <i class="fas fa-lock" style="color:#9ca3af"></i>
        <div class="value" id="tierStatus">Unverified</div>
        <div class="label">Account Status</div>
      </div>
      <div class="stat-card" style="background:linear-gradient(to bottom right,#eff6ff,#dbeafe);border-color:#bfdbfe">
        <i class="fas fa-comments" style="color:var(--blue)"></i>
        <div class="value">0</div>
        <div class="label">Active Chats</div>
      </div>
      <div class="stat-card" style="background:linear-gradient(to bottom right,#fff1f2,#ffe4e6);border-color:#fecdd3">
        <i class="fas fa-heart" style="color:var(--rose)"></i>
        <div class="value">0</div>
        <div class="label">Matches</div>
      </div>
    </div>

    <!-- VERIFY PROMPT -->
    <div class="card mb-8" id="verifyPrompt" style="background:linear-gradient(to right,var(--blue),#6366f1);color:white;padding:2rem">
      <div class="flex justify-between items-center">
        <div>
          <h3 style="color:white;margin-bottom:0.5rem">Unlock Full Features</h3>
          <p style="opacity:0.9;margin-bottom:1rem">Verify your account to earn double coins, access chat, and use Cupid mode!</p>
          <button onclick="showPage('verify')" style="padding:0.75rem 1.5rem;background:white;color:var(--blue);border:none;border-radius:999px;font-weight:600;cursor:pointer">
            <i class="fas fa-shield-alt"></i> Get Verified Now
          </button>
        </div>
      </div>
    </div>

    <!-- QUICK ACTIONS -->
    <div class="grid grid-3">
      <div class="card">
        <i class="fas fa-user-edit" style="color:var(--accent)"></i>
        <h3>Complete Your Profile</h3>
        <p>Earn 50 Bond Coins by filling out your detailed profile with family goals and values.</p>
        <button onclick="showPage('profile')" class="btn btn-primary w-full" style="margin-top:1rem">Edit Profile</button>
      </div>
      <div class="card">
        <i class="fas fa-search" style="color:var(--emerald)"></i>
        <h3>Find Your Match</h3>
        <p>Browse profiles and use Cupid mode to suggest matches for others.</p>
        <button onclick="checkVerified('search')" class="btn btn-primary w-full" id="searchBtn" style="margin-top:1rem">Start Searching</button>
      </div>
      <div class="card">
        <i class="fas fa-book-open" style="color:var(--purple)"></i>
        <h3>Join Community</h3>
        <p>Share your journey, learn from others, and connect with like-minded people.</p>
        <button onclick="showPage('community')" class="btn btn-primary w-full" style="margin-top:1rem">Visit Community</button>
      </div>
    </div>
  </div>
</section>

<!-- PROFILE PAGE -->
<section id="profile" class="hidden">
  <div class="container">
    <div class="page-header">
      <h1>Your Profile</h1>
      <p>Complete your profile to earn Bond Coins and attract aligned partners</p>
    </div>

    <div class="card" style="max-width:800px;margin:0 auto">
      <form id="profileForm" onsubmit="saveProfile(event)">
        <div class="grid" style="grid-template-columns:1fr 1fr;gap:1.5rem">
          <div class="form-group">
            <label class="form-label">Full Name</label>
            <input type="text" class="form-input" id="profileName" required>
          </div>
          <div class="form-group">
            <label class="form-label">Age</label>
            <input type="number" class="form-input" id="profileAge" min="18" max="100" required>
          </div>
        </div>

        <div class="form-group">
          <label class="form-label">Location (City, Country)</label>
          <input type="text" class="form-input" id="profileLocation" placeholder="e.g., Porto, Portugal" required>
        </div>

        <div class="form-group">
          <label class="form-label">About Me (500+ characters for full coins)</label>
          <textarea class="form-input" id="profileBio" rows="6" placeholder="Tell your story, values, personality, what makes you unique..." required></textarea>
          <small style="color:var(--muted)"><span id="bioCount">0</span>/500 characters</small>
        </div>

        <div class="form-group">
          <label class="form-label">Interests & Hobbies</label>
          <input type="text" class="form-input" id="profileInterests" placeholder="Reading, Cooking, Travel, Music..." required>
        </div>

        <div class="form-group">
          <label class="form-label">Family Goals & Vision</label>
          <textarea class="form-input" id="profileGoals" rows="4" placeholder="Share your vision for family life, number of children, values you want to pass on..." required></textarea>
        </div>

        <div class="form-group">
          <label class="form-label">What are you looking for in a partner?</label>
          <textarea class="form-input" id="profileLooking" rows="3" placeholder="Describe the qualities, values, and characteristics important to you..." required></textarea>
        </div>

        <button type="submit" class="btn btn-primary w-full">
          <i class="fas fa-save"></i> Save Profile & Earn 50 Coins
        </button>
      </form>
    </div>
  </div>
</section>

<!-- VERIFY PAGE -->
<section id="verify" class="hidden">
  <div class="container">
    <div class="verify-card" style="max-width:600px;margin:3rem auto">
      <div style="width:80px;height:80px;background:rgba(255,255,255,0.2);border-radius:50%;display:flex;align-items:center;justify-content:center;margin:0 auto 1.5rem">
        <i class="fas fa-shield-alt" style="font-size:2.5rem"></i>
      </div>

      <h1 style="color:white;margin-bottom:1rem">Verify Your Account</h1>
      <p style="opacity:0.9;margin-bottom:2rem">Unlock premium features and earn double Bond Coins on all activities!</p>

      <div style="background:rgba(255,255,255,0.15);border-radius:0.75rem;padding:1.5rem;margin-bottom:2rem">
        <h3 style="color:white;margin-bottom:1rem;text-align:left">Verified Benefits:</h3>
        <ul class="benefits-list">
          <li><i class="fas fa-trending-up" style="color:#10b981"></i> <span>Earn 2x Bond Coins on all activities</span></li>
          <li><i class="fas fa-comments" style="color:#60a5fa"></i> <span>Access to direct messaging</span></li>
          <li><i class="fas fa-user-plus" style="color:#c084fc"></i> <span>Cupid Mode - Suggest matches for others</span></li>
          <li><i class="fas fa-star" style="color:#fbbf24"></i> <span>Priority in search results</span></li>
          <li><i class="fas fa-check-circle" style="color:#34d399"></i> <span>Verified badge on your profile</span></li>
          <li><i class="fas fa-gift" style="color:#f472b6"></i> <span>+100 Bonus Coins upon verification</span></li>
        </ul>
      </div>

      <button onclick="verifyAccount()" class="btn btn-primary" style="background:white;color:var(--blue);font-size:1.1rem">
        <i class="fas fa-check-circle"></i> Complete Verification
      </button>
      <p style="opacity:0.8;margin-top:1rem;font-size:0.9rem">Verification is instant and free!</p>
    </div>
  </div>
</section>

<!-- SUCCESS STORIES -->
<section id="success" class="hidden">
  <div class="container">
    <div class="page-header text-center">
      <h1>Success Stories</h1>
      <p style="font-size:1.2rem">Real couples who found their eternal bonds through commitment and effort</p>
    </div>

    <div style="max-width:900px;margin:0 auto">
      <div class="card story-card mb-8">
        <div class="flex items-center gap-1 mb-4">
          <i class="fas fa-heart" style="color:var(--rose);font-size:2rem"></i>
          <div>
            <h3 style="margin:0">Sarah & Michael</h3>
            <p style="color:var(--muted);font-size:0.85rem;margin:0">Married June 2025</p>
          </div>
        </div>
        <p style="color:var(--muted)">We met through Eternal Bonds and instantly connected over our shared love for family traditions. The effort-based system ensured we both invested time, leading to deep conversations about our future kids, home, and values. Six months later, we knew we had found our forever. Thank you for creating a platform that values commitment over superficiality!</p>
        <div style="margin-top:1rem;padding-top:1rem;border-top:1px solid var(--soft)">
          <small style="color:var(--muted)"><i class="fas fa-coins"></i> They earned over 500 Bond Coins through meaningful engagement</small>
        </div>
      </div>

      <div class="card story-card mb-8">
        <div class="flex items-center gap-1 mb-4">
          <i class="fas fa-heart" style="color:var(--rose);font-size:2rem"></i>
          <div>
            <h3 style="margin:0">Emma & David</h3>
            <p style="color:var(--muted);font-size:0.85rem;margin:0">Engaged December 2025</p>
          </div>
        </div>
        <p style="color:var(--muted)">The effort-based system showed us who was truly serious about finding a life partner. Our conversations were meaningful from day oneâ€”discussing family values, faith, long-term goals. We're now planning our dream wedding and couldn't be more grateful. This platform filters out the noise and connects people who genuinely care.</p>
        <div style="margin-top:1rem;padding-top:1rem;border-top:1px solid var(--soft)">
          <small style="color:var(--muted)"><i class="fas fa-users"></i> Matched through Cupid suggestionâ€”earned the matchmaker 100 coins!</small>
        </div>
      </div>

      <div class="card story-card mb-8">
        <div class="flex items-center gap-1 mb-4">
          <i class="fas fa-heart" style="color:var(--rose);font-size:2rem"></i>
          <div>
            <h3 style="margin:0">Lisa & James</h3>
            <p style="color:var(--muted);font-size:0.85rem;margin:0">Married September 2025</p>
          </div>
        </div>
        <p style="color:var(--muted)">As a Cupid match suggestion, we never would have found each other without the community's help. A mutual friend saw our compatibility and suggested the matchâ€”and she was right! Eternal Bonds rewarded our matchmaker, and we earned coins together through shared events and profile building. Now we're building our family and expecting our first child. This platform changed our lives!</p>
        <div style="margin-top:1rem;padding-top:1rem;border-top:1px solid var(--soft)">
          <small style="color:var(--muted)"><i class="fas fa-baby"></i> Now building their family togetherâ€”first baby on the way!</small>
        </div>
      </div>
    </div>

    <div class="text-center mt-4">
      <button onclick="showModal('signup')" class="btn btn-primary">
        <i class="fas fa-heart"></i> Start Your Own Success Story
      </button>
    </div>
  </div>
</section>

<!-- COMMUNITY PAGE -->
<section id="community" class="hidden">
  <div class="container">
    <div class="page-header">
      <h1>Community Forums</h1>
      <p>Share your journey, learn from others, and connect with like-minded people building families</p>
    </div>

    <div class="card">
      <h2 style="margin-bottom:1.5rem">Recent Discussions</h2>
      
      <div style="padding:1rem;border:1px solid var(--soft);border-radius:0.5rem;margin-bottom:1rem">
        <div class="flex justify-between items-center mb-4">
          <h3 style="margin:0;font-size:1.1rem">Building Strong Families Through Shared Values</h3>
          <span style="color:var(--muted);font-size:0.85rem">2 hours ago</span>
        </div>
        <p style="color:var(--muted);margin-bottom:1rem">What values are most important to you when building a family? For me, it's faith, honesty, and putting family first...</p>
        <button onclick="addCoins(20, 'Forum engagement!')" style="color:var(--blue);background:none;border:none;cursor:pointer;text-decoration:underline;font-weight:600">
          <i class="fas fa-comment"></i> Reply & Earn 20 Coins
        </button>
      </div>

      <div style="padding:1rem;border:1px solid var(--soft);border-radius:0.5rem;margin-bottom:1rem">
        <div class="flex justify-between items-center mb-4">
          <h3 style="margin:0;font-size:1.1rem">First Date Ideas for Serious Relationships</h3>
          <span style="color:var(--muted);font-size:0.85rem">5 hours ago</span>
        </div>
        <p style="color:var(--muted);margin-bottom:1rem">Skip the movie theater! Here are meaningful first date ideas that help you really get to know someone...</p>
        <button onclick="addCoins(20, 'Forum engagement!')" style="color:var(--blue);background:none;border:none;cursor:pointer;text-decoration:underline;font-weight:600">
          <i class="fas fa-comment"></i> Reply & Earn 20 Coins
        </button>
      </div>

      <div style="padding:1rem;border:1px solid var(--soft);border-radius:0.5rem;margin-bottom:1rem">
        <div class="flex justify-between items-center mb-4">
          <h3 style="margin:0;font-size:1.1rem">How to Talk About Kids on Early Dates</h3>
          <span style="color:var(--muted);font-size:0.85rem">1 day ago</span>
        </div>
        <p style="color:var(--muted);margin-bottom:1rem">It's crucial but can feel awkward. Here's how I approached the conversation naturally...</p>
        <button onclick="addCoins(20, 'Forum engagement!')" style="color:var(--blue);background:none;border:none;cursor:pointer;text-decoration:underline;font-weight:600">
          <i class="fas fa-comment"></i> Reply & Earn 20 Coins
        </button>
      </div>

      <div id="communityForm" style="display:none;margin-top:2rem">
        <h3 style="margin-bottom:1rem">Create New Discussion</h3>
        <form onsubmit="postCommunity(event)">
          <div class="form-group">
            <label class="form-label">Topic Title</label>
            <input type="text" class="form-input" placeholder="Enter discussion topic..." required>
          </div>
          <div class="form-group">
            <label class="form-label">Your Thoughts</label>
            <textarea class="form-input" rows="5" placeholder="Share your insights, questions, or experiences..." required></textarea>
          </div>
          <button type="submit" class="btn btn-primary w-full">
            <i class="fas fa-paper-plane"></i> Post & Earn 20 Coins
          </button>
        </form>
      </div>

      <div id="communityLogin" class="text-center" style="margin-top:2rem;padding:2rem;background:var(--soft);border-radius:0.5rem">
        <i class="fas fa-lock" style="font-size:2rem;color:var(--muted);margin-bottom:1rem"></i>
        <p style="color:var(--muted);margin-bottom:1rem">Sign in to join discussions and earn coins!</p>
        <button onclick="showModal('login')" class="btn btn-primary">
          <i class="fas fa-sign-in-alt"></i> Sign In
        </button>
      </div>
    </div>
  </div>
</section>

<!-- SEARCH PAGE -->
<section id="search" class="hidden">
  <div class="container">
    <div class="page-header">
      <h1>Search & Cupid Mode</h1>
      <p>Browse verified profiles and help others find their perfect match</p>
    </div>

    <div class="card mb-8">
      <h2 style="margin-bottom:1rem">Browse Profiles</h2>
      <div style="display:flex;gap:1rem;margin-bottom:1.5rem;flex-wrap:wrap">
        <div class="form-group" style="margin:0;flex:1;min-width:200px">
          <label class="form-label">Age Range</label>
          <select class="form-input">
            <option>18-25</option>
            <option>26-35</option>
            <option>36-45</option>
            <option>46+</option>
          </select>
        </div>
        <div class="form-group" style="margin:0;flex:1;min-width:200px">
          <label class="form-label">Location</label>
          <input type="text" class="form-input" placeholder="Enter city...">
        </div>
        <div style="display:flex;align-items:flex-end">
          <button class="btn btn-primary">
            <i class="fas fa-search"></i> Search
          </button>
        </div>
      </div>

      <div class="grid grid-3" id="searchProfiles">
        <!-- Populated by JS -->
      </div>
    </div>

    <div class="card" style="background:linear-gradient(to bottom right,#faf5ff,#f3e8ff)">
      <h2 style="margin-bottom:1rem"><i class="fas fa-heart-circle" style="color:var(--purple)"></i> Play Cupid</h2>
      <p style="color:var(--muted);margin-bottom:1.5rem">See a perfect match? Suggest it and earn 100 coins if they meet or marry!</p>
      
      <form onsubmit="submitCupid(event)">
        <div class="form-group">
          <label class="form-label">Suggest Match To</label>
          <input type="text" class="form-input" placeholder="User email or name" required>
        </div>
        <div class="form-group">
          <label class="form-label">Suggested Profile</label>
          <input type="text" class="form-input" placeholder="Profile ID or name" required>
        </div>
        <div class="form-group">
          <label class="form-label">Why This Match?</label>
          <textarea class="form-input" rows="3" placeholder="Explain your reasoningâ€”shared values, interests, goals..." required></textarea>
        </div>
        <button type="submit" class="btn btn-primary w-full" style="background:var(--purple)">
          <i class="fas fa-magic"></i> Submit Suggestion & Earn 100 Coins
        </button>
      </form>
    </div>
  </div>
</section>

<!-- CHAT PAGE -->
<section id="chat" class="hidden">
  <div class="container">
    <div class="page-header">
      <h1>Conversations</h1>
      <p>Build meaningful connections through thoughtful messages</p>
    </div>

    <div class="card">
      <div style="background:var(--amber-light);border:1px solid #fde68a;border-radius:0.5rem;padding:1rem;margin-bottom:1.5rem">
        <i class="fas fa-info-circle" style="color:var(--amber)"></i>
        <strong> Important Rule:</strong> You must complete all open conversations before starting new ones. This ensures meaningful engagement.
      </div>

      <h2 style="margin-bottom:1rem">Active Chats</h2>
      <div style="padding:1rem;border:1px solid var(--soft);border-radius:0.5rem;margin-bottom:1.5rem">
        <div class="flex justify-between items-center mb-4">
          <h3 style="margin:0;font-size:1.1rem"><i class="fas fa-user" style="color:var(--accent)"></i> Sarah M.</h3>
          <span style="color:var(--muted);font-size:0.85rem">Active</span>
        </div>
        <div id="messagesList" style="height:300px;overflow-y:auto;border:1px solid var(--soft);border-radius:0.5rem;padding:1rem;background:white;margin-bottom:1rem">
          <!-- Messages populated here -->
        </div>
        <form onsubmit="sendMessage(event)">
          <div class="form-group" style="margin:0">
            <textarea id="messageInput" class="form-input" rows="3" placeholder="Write a meaningful message (50+ characters)..." required></textarea>
            <small style="color:var(--muted)"><span id="msgCount">0</span>/50 characters min</small>
          </div>
          <button type="submit" class="btn btn-primary w-full" style="margin-top:1rem">
            <i class="fas fa-paper-plane"></i> Send & Earn 10 Coins
          </button>
        </form>
      </div>
    </div>
  </div>
</section>

<!-- REWARDS PAGE -->
<section id="rewards" class="hidden">
  <div class="container">
    <div class="page-header">
      <h1>Rewards Store</h1>
      <p>Spend your hard-earned Bond Coins on premium features</p>
    </div>

    <div class="card mb-8">
      <h2 style="margin-bottom:1.5rem"><i class="fas fa-store" style="color:var(--amber)"></i> Available Rewards</h2>

      <div style="display:flex;justify-content:space-between;align-items:center;padding:1rem;border:1px solid var(--soft);border-radius:0.5rem;margin-bottom:1rem">
        <div>
          <h3 style="margin:0;font-size:1.1rem"><i class="fas fa-unlock" style="color:var(--rose)"></i> Unlock Profile Views</h3>
          <p style="color:var(--muted);margin:0.5rem 0 0 0;font-size:0.9rem">See who viewed your profile</p>
        </div>
        <button onclick="buyReward(20)" class="btn btn-primary" style="background:var(--rose)">
          20 <i class="fas fa-coins"></i>
        </button>
      </div>

      <div style="display:flex;justify-content:space-between;align-items:center;padding:1rem;border:1px solid var(--soft);border-radius:0.5rem;margin-bottom:1rem">
        <div>
          <h3 style="margin:0;font-size:1.1rem"><i class="fas fa-bolt" style="color:var(--blue)"></i> Priority Messaging</h3>
          <p style="color:var(--muted);margin:0.5rem 0 0 0;font-size:0.9rem">Your messages appear first</p>
        </div>
        <button onclick="buyReward(30)" class="btn btn-primary" style="background:var(--blue)">
          30 <i class="fas fa-coins"></i>
        </button>
      </div>

      <div style="display:flex;justify-content:space-between;align-items:center;padding:1rem;border:1px solid var(--soft);border-radius:0.5rem">
        <div>
          <h3 style="margin:0;font-size:1.1rem"><i class="fas fa-eye" style="color:var(--emerald)"></i> See Who Viewed Your Profile</h3>
          <p style="color:var(--muted);margin:0.5rem 0 0 0;font-size:0.9rem">Get notified when someone views your profile</p>
        </div>
        <button onclick="buyReward(40)" class="btn btn-primary" style="background:var(--emerald)">
          40 <i class="fas fa-coins"></i>
        </button>
      </div>

      <div style="display:flex;justify-content:space-between;align-items:center;padding:1rem;border:1px solid var(--soft);border-radius:0.5rem">
        <div>
          <h3 style="margin:0;font-size:1.1rem"><i class="fas fa-star" style="color:var(--purple)"></i> Featured Profile (7 days)</h3>
          <p style="color:var(--muted);margin:0.5rem 0 0 0;font-size:0.9rem">Get featured on homepage for maximum visibility</p>
        </div>
        <button onclick="buyReward(100)" class="btn btn-primary" style="background:var(--purple)">
          100 <i class="fas fa-coins"></i>
        </button>
      </div>
    </div>

    <div class="card" style="background:linear-gradient(to bottom right,#fefce8,#fef3c7)">
      <h2 style="margin-bottom:1rem"><i class="fas fa-trophy" style="color:var(--amber)"></i> Cupid Leaderboard</h2>
      <p style="color:var(--muted);margin-bottom:1.5rem">Top matchmakers earn exclusive perks and recognition for successful suggestions!</p>
      
      <div style="background:white;border-radius:0.5rem;padding:1rem">
        <div style="display:flex;justify-content:space-between;padding:0.75rem;border-bottom:1px solid var(--soft)">
          <div style="display:flex;align-items:center;gap:0.5rem">
            <span style="font-size:1.5rem">ðŸ¥‡</span>
            <strong>User_Sarah123</strong>
          </div>
          <span style="color:var(--muted)">8 Successful Matches</span>
        </div>
        <div style="display:flex;justify-content:space-between;padding:0.75rem;border-bottom:1px solid var(--soft)">
          <div style="display:flex;align-items:center;gap:0.5rem">
            <span style="font-size:1.5rem">ðŸ¥ˆ</span>
            <strong>MatchMaker_Mike</strong>
          </div>
          <span style="color:var(--muted)">5 Successful Matches</span>
        </div>
        <div style="display:flex;justify-content:space-between;padding:0.75rem">
          <div style="display:flex;align-items:center;gap:0.5rem">
            <span style="font-size:1.5rem">ðŸ¥‰</span>
            <strong>CupidEmma</strong>
          </div>
          <span style="color:var(--muted)">3 Successful Matches</span>
        </div>
      </div>
    </div>
  </div>
</section>

<!-- LOGIN MODAL -->
<div class="modal" id="loginModal">
  <div class="modal-content">
    <button class="modal-close" onclick="closeModal('login')">
      <i class="fas fa-times"></i>
    </button>
    <h2>Welcome Back</h2>
    <form onsubmit="login(event)">
      <div class="form-group">
        <label class="form-label">Email</label>
        <input type="email" class="form-input" name="email" placeholder="your@email.com" required>
      </div>
      <div class="form-group">
        <label class="form-label">Password</label>
        <input type="password" class="form-input" name="password" placeholder="â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢" required>
      </div>
      <button type="submit" class="btn btn-primary w-full">
        <i class="fas fa-sign-in-alt"></i> Login
      </button>
    </form>
    <p class="text-center mt-4" style="font-size:0.9rem">
      New here? <button onclick="showModal('signup');closeModal('login')" style="color:var(--accent);background:none;border:none;cursor:pointer;text-decoration:underline;font-weight:600">Create Account</button>
    </p>
  </div>
</div>

<!-- SIGNUP MODAL -->
<div class="modal" id="signupModal">
  <div class="modal-content">
    <button class="modal-close" onclick="closeModal('signup')">
      <i class="fas fa-times"></i>
    </button>
    <h2>Begin Your Journey</h2>
    <form onsubmit="signup(event)">
      <div class="form-group">
        <label class="form-label">Full Name</label>
        <input type="text" class="form-input" name="name" placeholder="John Doe" required>
      </div>
      <div class="form-group">
        <label class="form-label">Email</label>
        <input type="email" class="form-input" name="email" placeholder="your@email.com" required>
      </div>
      <div class="form-group">
        <label class="form-label">Password</label>
        <input type="password" class="form-input" name="password" placeholder="â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢" minlength="6" required>
      </div>
      <button type="submit" class="btn btn-primary w-full">
        <i class="fas fa-heart"></i> Create Account & Get 50 Coins
      </button>
    </form>
    <p class="text-center mt-4" style="font-size:0.9rem">
      Already have an account? <button onclick="showModal('login');closeModal('signup')" style="color:var(--accent);background:none;border:none;cursor:pointer;text-decoration:underline;font-weight:600">Login</button>
    </p>
  </div>
</div>

<footer>
  <p>Â© 2026 Eternal Bonds â€” Built with love in Porto ðŸ’š</p>
  <p style="margin-top:0.5rem">
    <a href="https://github.com/yourusername/EternalBonds" target="_blank">
      <i class="fas fa-code-branch"></i> View on GitHub
    </a>
  </p>
</footer>

<script>
// STATE MANAGEMENT
let user = null;
let coins = 0;
let tier = 'unverified';
const profiles = [
  {id:1,name:'Sarah M.',age:28,location:'New York, USA',interests:'Family traditions, Travel, Reading',verified:true,bio:'Looking for someone who values family as much as I do'},
  {id:2,name:'Michael K.',age:32,location:'Boston, USA',interests:'Cooking, Hiking, Music',verified:true,bio:'Ready to build a loving home and raise a family'},
  {id:3,name:'Emma L.',age:26,location:'Chicago, USA',interests:'Art, Yoga, Family Values',verified:false,bio:'Seeking a partner who shares my faith and vision for family life'}
];
let messages = [];

// INIT
function init(){
  const stored = localStorage.getItem('eb_user');
  if(stored){
    user = JSON.parse(stored);
    coins = user.coins || 0;
    tier = user.tier || 'unverified';
  }
  updateNav();
  renderProfiles();
  
  // Daily refill
  const lastRefill = localStorage.getItem('eb_lastRefill');
  const now = Date.now();
  if(user && (!lastRefill || (now - parseInt(lastRefill)) >= 86400000)){
    addCoins(5,'Daily refill!');
    localStorage.setItem('eb_lastRefill',now.toString());
  }
  
  // Character counters
  const bioInput = document.getElementById('profileBio');
  const msgInput = document.getElementById('messageInput');
  if(bioInput) bioInput.addEventListener('input',()=>{
    document.getElementById('bioCount').textContent = bioInput.value.length;
  });
  if(msgInput) msgInput.addEventListener('input',()=>{
    document.getElementById('msgCount').textContent = msgInput.value.length;
  });
}

// NAVIGATION
function updateNav(){
  const navLinks = document.getElementById('navLinks');
  const mobileMenu = document.getElementById('mobileMenu');
  
  if(user){
    const links = `
      <button onclick="showPage('dashboard')"><i class="fas fa-home"></i> Dashboard</button>
      <button onclick="showPage('profile')"><i class="fas fa-user"></i> Profile</button>
      <button onclick="checkVerified('search')" ${tier==='unverified'?'disabled':''}><i class="fas fa-search"></i> Search</button>
      <button onclick="checkVerified('chat')" ${tier==='unverified'?'disabled':''}><i class="fas fa-comments"></i> Chat</button>
      <button onclick="showPage('community')"><i class="fas fa-book-open"></i> Community</button>
      <button onclick="showPage('rewards')"><i class="fas fa-trophy"></i> Rewards</button>
      <div class="coin-badge"><i class="fas fa-sparkles"></i><span>${coins}</span></div>
      <button onclick="logout()">Logout</button>
    `;
    navLinks.innerHTML = links;
    mobileMenu.innerHTML = links;
  }else{
    const links = `
      <button onclick="showPage('success')">Success Stories</button>
      <button onclick="showPage('community')">Community</button>
      <button onclick="showModal('login')">Login</button>
      <button class="primary" onclick="showModal('signup')">Sign Up</button>
    `;
    navLinks.innerHTML = links;
    mobileMenu.innerHTML = links;
  }
}

// PAGES
function showPage(page){
  document.querySelectorAll('section').forEach(s=>s.classList.add('hidden'));
  document.getElementById(page).classList.remove('hidden');
  
  if(!user && page!=='landing' && page!=='success' && page!=='community'){
    showModal('login');
    return;
  }
  
  if(page==='dashboard' && user){
    document.getElementById('userName').textContent = user.name;
    document.getElementById('coinCount').textContent = coins;
    document.getElementById('tierStatus').textContent = tier==='verified'?'Verified':'Unverified';
    
    const tierCard = document.getElementById('tierCard');
    if(tier==='verified'){
      tierCard.style.background = 'linear-gradient(to bottom right,#ecfdf5,#d1fae5)';
      tierCard.style.borderColor = '#a7f3d0';
      tierCard.querySelector('i').className = 'fas fa-check-circle';
      tierCard.querySelector('i').style.color = '#10b981';
      document.getElementById('verifyPrompt').style.display = 'none';
    }else{
      tierCard.style.background = 'linear-gradient(to bottom right,#f9fafb,#f3f4f6)';
      tierCard.style.borderColor = '#e5e7eb';
      tierCard.querySelector('i').className = 'fas fa-lock';
      tierCard.querySelector('i').style.color = '#9ca3af';
      document.getElementById('verifyPrompt').style.display = 'block';
    }
  }
  
  if(page==='profile' && user){
    document.getElementById('profileName').value = user.name || '';
  }
  
  if(page==='community'){
    if(user){
      document.getElementById('communityForm').style.display = 'block';
      document.getElementById('communityLogin').style.display = 'none';
    }else{
      document.getElementById('communityForm').style.display = 'none';
      document.getElementById('communityLogin').style.display = 'block';
    }
  }
  
  if(page==='search'){
    document.getElementById('searchProfiles').innerHTML = profiles.map(p=>`
      <div class="card profile-card">
        <div style="display:flex;justify-content:space-between;align-items:flex-start;margin-bottom:1rem">
          <div class="profile-avatar">
            <i class="fas fa-user" style="color:var(--accent);font-size:1.8rem"></i>
          </div>
          ${p.verified?'<span class="verified-badge"><i class="fas fa-check-circle"></i> Verified</span>':''}
        </div>
        <h3 style="margin-bottom:0.25rem">${p.name}</h3>
        <p style="color:var(--muted);font-size:0.85rem;margin-bottom:1rem">${p.age} â€¢ ${p.location}</p>
        <p style="color:var(--text);font-size:0.9rem;margin-bottom:0.5rem">${p.bio}</p>
        <p style="color:var(--muted);font-size:0.85rem"><strong>Interests:</strong> ${p.interests}</p>
        <button class="btn btn-primary w-full" style="margin-top:1rem" onclick="showNotification('Message feature coming soon!','success')">
          <i class="fas fa-heart"></i> Interested
        </button>
      </div>
    `).join('');
  }
  
  window.scrollTo(0,0);
}

function checkVerified(page){
  if(tier==='unverified'){
    showNotification('Please verify your account to access this feature!','error');
    showPage('verify');
    return;
  }
  showPage(page);
}

// PROFILES
function renderProfiles(){
  const grid = document.getElementById('profilesGrid');
  if(!grid) return;
  
  grid.innerHTML = profiles.map(p=>`
    <div style="position:relative">
      <div class="card profile-card ${!user?'blur':''}">
        <div style="display:flex;justify-content:space-between;align-items:flex-start;margin-bottom:1rem">
          <div class="profile-avatar">
            <i class="fas fa-user" style="color:var(--accent);font-size:1.8rem"></i>
          </div>
          ${p.verified?'<span class="verified-badge"><i class="fas fa-check-circle"></i> Verified</span>':''}
        </div>
        <h3 style="margin-bottom:0.25rem">${p.name}</h3>
        <p style="color:var(--muted);font-size:0.85rem;margin-bottom:1rem">${p.age} â€¢ ${p.location}</p>
        <p style="color:var(--text);font-size:0.9rem;margin-bottom:0.5rem">${p.bio}</p>
        <p style="color:var(--muted);font-size:0.85rem"><strong>Interests:</strong> ${p.interests}</p>
      </div>
      ${!user?`
        <div class="profile-overlay" onclick="showModal('login')">
          <div>
            <i class="fas fa-lock" style="color:var(--accent);font-size:2rem;margin-bottom:0.5rem"></i>
            <p style="font-weight:600">Sign in to view full profiles</p>
          </div>
        </div>
      `:''}
    </div>
  `).join('');
}

// AUTH
function login(e){
  e.preventDefault();
  const email = e.target.email.value;
  const password = e.target.password.value;
  
  user = {
    email,
    name:email.split('@')[0],
    coins:50,
    tier:'unverified',
    joinedDate:new Date().toISOString()
  };
  coins = 50;
  tier = 'unverified';
  localStorage.setItem('eb_user',JSON.stringify(user));
  closeModal('login');
  showPage('dashboard');
  updateNav();
  renderProfiles();
  showNotification('Welcome back to Eternal Bonds! ðŸŽ‰');
}

function signup(e){
  e.preventDefault();
  const name = e.target.name.value;
  const email = e.target.email.value;
  const password = e.target.password.value;
  
  user = {
    email,
    name,
    coins:50,
    tier:'unverified',
    joinedDate:new Date().toISOString()
  };
  coins = 50;
  tier = 'unverified';
  localStorage.setItem('eb_user',JSON.stringify(user));
  closeModal('signup');
  showPage('dashboard');
  updateNav();
  renderProfiles();
  showNotification('Account created! Start building your profile to earn coins. ðŸ’');
}

function logout(){
  if(!confirm('Are you sure you want to logout?')) return;
  
  localStorage.removeItem('eb_user');
  localStorage.removeItem('eb_lastRefill');
  user = null;
  coins = 0;
  tier = 'unverified';
  showPage('landing');
  updateNav();
  renderProfiles();
  showNotification('Logged out successfully');
}

function verifyAccount(){
  if(!user) return;
  
  user.tier = 'verified';
  tier = 'verified';
  localStorage.setItem('eb_user',JSON.stringify(user));
  addCoins(100,'Verification bonus!');
  showPage('dashboard');
  updateNav();
  showNotification('ðŸŒŸ Account verified! You now earn double coins on all activities!','success');
}

// COINS
function addCoins(amount,reason){
  const multiplier = tier==='verified'?2:1;
  const earnedCoins = amount * multiplier;
  coins += earnedCoins;
  
  if(user){
    user.coins = coins;
    localStorage.setItem('eb_user',JSON.stringify(user));
  }
  
  showNotification(`+${earnedCoins} Bond Coins earned! ${reason}`);
  updateNav();
}

// PROFILE
function saveProfile(e){
  e.preventDefault();
  const bio = document.getElementById('profileBio').value;
  
  if(bio.length >= 500){
    addCoins(50,'Profile completed!');
    showNotification('Profile saved successfully! ðŸ’','success');
  }else{
    showNotification('Bio too shortâ€”write at least 500 characters to earn full coins!','error');
  }
}

// COMMUNITY
function postCommunity(e){
  e.preventDefault();
  addCoins(20,'Forum post!');
  e.target.reset();
  showNotification('Discussion posted! Thank you for contributing to the community.','success');
}

// CUPID
function submitCupid(e){
  e.preventDefault();
  addCoins(100,'Cupid suggestion submitted!');
  e.target.reset();
  showNotification('ðŸŽ¯ Match suggestion submitted! You\'ll earn bonus coins if they meet or marry!','success');
}

// CHAT
function sendMessage(e){
  e.preventDefault();
  const msg = document.getElementById('messageInput').value;
  
  if(msg.length < 50){
    showNotification('Message too shortâ€”write at least 50 characters for meaningful conversation!','error');
    return;
  }
  
  addCoins(10,'Meaningful message sent!');
  
  const msgsList = document.getElementById('messagesList');
  const time = new Date().toLocaleTimeString();
  msgsList.innerHTML += `
    <div style="background:var(--soft);padding:0.75rem;border-radius:0.5rem;margin-bottom:0.5rem">
      <strong>You:</strong> ${msg}
      <div style="font-size:0.75rem;color:var(--muted);margin-top:0.25rem">${time}</div>
    </div>
  `;
  
  document.getElementById('messageInput').value = '';
  document.getElementById('msgCount').textContent = '0';
  msgsList.scrollTop = msgsList.scrollHeight;
}

// REWARDS
function buyReward(cost){
  if(coins < cost){
    showNotification('Not enough Bond Coins! Earn more through profile building and engagement.','error');
    return;
  }
  
  coins -= cost;
  user.coins = coins;
  localStorage.setItem('eb_user',JSON.stringify(user));
  updateNav();
  showNotification(`Reward purchased! -${cost} Bond Coins spent.`,'success');
}

// MODALS
function showModal(type){
  document.getElementById(type+'Modal').classList.add('active');
}

function closeModal(type){
  document.getElementById(type+'Modal').classList.remove('active');
}

function toggleMobile(){
  document.getElementById('mobileMenu').classList.toggle('active');
}

// NOTIFICATIONS
function showNotification(message,type='success'){
  const notif = document.getElementById('notification');
  notif.textContent = message;
  notif.className = `notification ${type} active`;
  setTimeout(()=>notif.classList.remove('active'),3000);
}

// INIT ON LOAD
window.addEventListener('DOMContentLoaded',init);
</script>

</body>
</html>
